<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Diffbot Account Dashboard</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
          name="viewport">

    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet"
          href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">

    <!--Switch the two lines below to turn dev mode on/off-->
    <!--<link rel="stylesheet" href="dist/css/app.min.css">-->
    <link rel="stylesheet" href="dist/css/app.dev.css">


</head>
<!--
BODY TAG OPTIONS:
=================
Apply one or more of the following classes to get the
desired effect, and don't forget to change the skin to be used in assets/assets.ini
|---------------------------------------------------------|
| SKINS         | skin-blue                               |
|               | skin-black                              |
|               | skin-purple                       z      |
|               | skin-yellow                             |
|               | skin-red                                |
|               | skin-green                              |
|---------------------------------------------------------|
|LAYOUT OPTIONS | fixed                                   |
|               | layout-boxed                            |
|               | layout-top-nav                          |
|               | sidebar-collapse                        |
|               | sidebar-mini                            |
|---------------------------------------------------------|
-->
<body class="hold-transition skin-yellow sidebar-mini">
<div class="wrapper" id="app">

    <header class="main-header">

        <a href="http://diffbot.com" class="logo">
            <!-- mini logo for sidebar mini 50x50 pixels -->
            <span class="logo-mini"><img width="50"
                                         src="dist/img/diffy_home.png"
                                         alt="Diffbot Logo"></span>
            <!-- logo for regular state and mobile devices -->
          <span class="logo-lg"><img height="50" src="dist/img/diffbot_logo.png"
                                     alt="Diffbot Logo"></span>
        </a>

        <!-- Header Navbar -->
        <nav class="navbar navbar-static-top" role="navigation">
            <!-- Sidebar toggle button-->
            <a href="#" class="sidebar-toggle" data-toggle="offcanvas"
               role="button">
                <span class="sr-only">Toggle navigation</span>
            </a>
            <!-- Navbar Right Menu -->
            <div class="navbar-custom-menu">
                <!--Nothing here for now-->
            </div>
        </nav>
    </header>

    <aside class="main-sidebar">

        <section class="sidebar">


            <!--Show hidden token with "show plain" button or input field if not there-->

            <!-- search form (Optional) -->
            <form @submit.prevent.stop action="#" method="get"
                  class="sidebar-form">
                <div class="input-group">
                    <input type="password" autocomplete="off" name="q"
                           id="tokenInput"
                           class="form-control"
                           value="{{info.token}}"
                           placeholder="Enter token"
                           @keyup.enter="tokensave">
              <span class="input-group-btn">

                  <!--
                  The below invisible submit button is a mock button because, stupidly, the browser default is to
                  TRIGGER A CLICK EVENT ON THE NEAREST BUTTON WHEN ENTER IS PRESSED INSIDE A FORM INPUT
                  -->

                  <input type="submit" value="Whatever" style="display: none;">
                <button @click="tokenshow" type="submit" name="search"
                        id="unmask-btn"
                        class="btn btn-flat"><i class="ion-eye"></i>
                </button>
                <button @click="tokensave" type="submit" name="search"
                        id="search-btn"
                        class="btn btn-flat"><i class="ion-checkmark"></i>
                </button>
              </span>
                </div>
            </form>
            <!-- /.search form -->

            <!-- Sidebar Menu -->
            <ul class="sidebar-menu">
                <li class="header">DETAILS</li>
                <!-- Optionally, you can add icons to the links -->
                <li class="active"><a href="#"><i class="fa fa-link"></i>
                    <span>Dashboard</span></a></li>
            </ul><!-- /.sidebar-menu -->
        </section>
        <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <a href="javascript:void(0)"
               onclick="localStorage.clear();window.location = window.location">Dev mode: clear all</a>
            <h1>
                Diffbot Account Dashboard
                <small>API calls per date, invoice information and status</small>
            </h1>

        </section>

        <!-- Main content -->
        <section class="content">

            <template v-if="info.name">
                <span>Information for {{ info.name }}, on {{ info.plan }} plan</span>
                <h4>API calls frequency over the given period. Change period with range picker below.</h4>
            </template>
            <input v-show="info.name" id="rangepicker" type="text"
                   placeholder="Data for last 31 days"/>
            <div id="dashchart"></div>

            <div v-if="info.invoices">
                <h4>Invoice data</h4>
                <div class="invoice-container">
                    <template v-for="invoice in info.invoices">
                        <div class="invoice {{ invoice.status }}">
                            <h4 class="invoice-title">{{ invoice.date.date | momentify }}</h4>
                            <div class="sexy_line"></div>
                            <span class="amount">{{ invoice.totalAmount | currency }}</span>
                            <span class="amount smaller overage" v-if="invoice.overageAmount > 0">of which overage: {{ invoice.overageAmount | currency }}!</span>
                            <span class="amount smaller">{{ invoice.totalCalls }} calls</span>
                            <div class="sexy_line"></div>
                            <span class="plan">{{ invoice.plan | capitalize }} plan</span>
                            <div class="price_badge" title="paid" v-if="invoice.status == 'paid'">
                                <i class="fa fa-thumbs-up"></i>
                            </div>
                            <div class="price_badge yella" title="unpaid" v-if="invoice.status != 'paid'">
                                <i class="fa fa-exclamation-circle"></i>
                            </div>
                        </div>
                    </template>
                </div>
            </div>

        </section><!-- /.content -->
    </div><!-- /.content-wrapper -->

    <!-- Main Footer -->
    <footer class="main-footer">
        <!-- To the right -->
        <div class="pull-right hidden-xs">
            Made with VueJS, AdminLTE, and <a
                href="http://diffbot-php-client-docs.readthedocs.org">Diffbot's PHP Client</a>
        </div>
        <!-- Default to the left -->
        <strong>Copyright &copy; 2016 <a
                href="https://twitter.com/bitfalls">Bruno Skvorc</a> @ <a
                href="http://diffbot.com">Diffbot</a>.</strong> All rights reserved.
    </footer>
    <div class="loading" v-if="options.overlay"></div>
</div><!-- ./wrapper -->


<script src="dist/js/vue.js"></script>
<script src="dist/js/vue-resource.js"></script>

<!--Uncomment below and comment above for dev mode-->
<!--<script src="dist/js/vue.min.js"></script>-->
<!--<script src="dist/js/vue-resource.min.js"></script>-->

<!--Switch the two lines below to turn dev mode on / off-->
<!--<script src="dist/js/app.min.js"></script>-->
<script src="dist/js/app.dev.js"></script>

</body>
</html>
